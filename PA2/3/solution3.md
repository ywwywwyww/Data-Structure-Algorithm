# Graph 题解

## 题目大意

　　有一个 $n$ 个点 $m$ 条边的无向图，$q$ 次询问两点之间的必经点。

　　$n\leq 100000,m\leq 200000, q\leq 10$

## 题解

　　先用 tarjan 算法把极大点双连通分量求出来。然后建一棵圆方树：对于原来图中的每一个点，新建一个圆点；对于图中每一个极大点双连通分量，新建一个方点；如果一个圆点对应的点在方点对应的点双中，就在这个圆点和方点之间连一条边。那么两个点路径上的必经点就是圆方树中这两个点路径上的所有圆点。直接 BFS 一次就可以求出。另外还要排序。

　　时间复杂度：$O(n+m+qn)~or~O(n+m+qn\log n)$。